---
sidebar_position: 4
slug: /usecases/k8s-exec
---

import ConnectOnHoopButton from './../../src/components/ConnectOnHoopButton';

# Kubernetes | exec

<ConnectOnHoopButton
  url="https://app.hoop.dev/connections/command-line/new?data=ewogICJuYW1lIjogIm15LWs4cyIsCiAgInR5cGUiOiAiY29tbWFuZC1saW5lIiwKICAic2VjcmV0IjogewogICAgImZpbGVzeXN0ZW06S1VCRUNPTkZJRyI6ICJlVzkxY2lCcmRXSmxJR052Ym1acFp5Qm1hV3hsSUdOdmJuUmxiblFnYUdWeVpRPT0iCiAgfSwKICAiY29tbWFuZCI6IFsKICAgICJrdWJlY3RsIiwKICAgICJleGVjIiwKICAgICItLXR0eSIsCiAgICAiLS1zdGRpbiIsCiAgICAiZGVwbG95bWVudC9teWFwcCIsCiAgICAiLS0iCiAgXQp9"
/>

___

`kubectl` provides ways of creating interactive sessions with pods. It's possible to map these commands to Hoop to obtain interactive sessions allocating a pseudo TTY.

## Connection Configuration

| Name         | Type       | Description                                                            |
|------------- | ---------- | ---------------------------------------------------------------------- |
| `KUBECONFIG` | filesystem | A [kubeconfig file](https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/) with permission to exec into pods in a namespace   |

### Connection Command

```shell
kubectl exec --tty --stdin deployment/myapp --
```

## How to Use

Start an interactive bash session with a deployment/pod

```shell
hoop connect myapp -- bash
```

This will open an interactive session with the deployment `myapp`.
It's possible to map any command that spawns an interactive session.

Then, it's possible to gain a rails console session

```shell
hoop connect myapp -- rails console
```

:::info IMPORTANT
Note that `kubectl exec` is used with `-tty` and `--stdin` arguments. These flags are required when using `hoop connect`.
:::
